{% extends "layout.html" %}

{% block title %}Inicio{% endblock %}

{% block content %}
<div class="d-flex justify-content-between mb-4">
    <form class="d-flex w-50" method="GET" action="{{ url_for('main_bp.home') }}">
        <input class="form-control me-2" type="search" name="search" placeholder="Buscar" aria-label="Buscar">
        <button class="btn btn-outline-success" type="submit">Buscar</button>
    </form>
</div>

<div class="row">
    <div class="col-12">
        {% for herramienta in herramientas %}
        <div class="card mb-3">
            <div class="card-body d-flex justify-content-between align-items-center">
                <span class="machine-name">{{ herramienta.nombre }} ({{ herramienta.marca }})</span>
                <span class="stock-quantity">Stock: {{ herramienta.cantidad_disponible }}</span>
                <!-- Enlace dinámico al endpoint de transacciones -->
                <a href="{{ url_for('main_bp.transacciones', herramienta_id=herramienta.id_herramienta) }}"
                    class="btn btn-danger">Transacción</a>
            </div>
        </div>
        {% else %}
        <p>No se encontraron herramientas disponibles.</p>
        {% endfor %}
    </div>
</div>
{% endblock %}